[gd_scene load_steps=11 format=3 uid="uid://cg2f5d3v1r3he"]

[ext_resource type="PackedScene" uid="uid://w8fnbohrtbqo" path="res://assets/fantasy-game-inn/source/theInn.FBX.fbx" id="1_5sqjl"]
[ext_resource type="Texture2D" uid="uid://d3wjmomhu8c48" path="res://assets/cc_gradient.tres" id="1_d4vig"]
[ext_resource type="Material" uid="uid://dsfoirvwdtfuo" path="res://assets/fantasy-game-inn/materials/tavern.tres" id="2_d4vig"]
[ext_resource type="PackedScene" uid="uid://2db0i0wd2rol" path="res://scenes/guide_spheres.tscn" id="3_gvupw"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_5sqjl"]
sky_horizon_color = Color(0.491474, 0.702516, 0.828264, 1)
ground_bottom_color = Color(0.237055, 0.0630743, 0.3707, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_d4vig"]
sky_material = SubResource("ProceduralSkyMaterial_5sqjl")

[sub_resource type="Environment" id="Environment_gvupw"]
background_mode = 1
background_color = Color(0.108971, 6.57466e-05, 0.363864, 1)
sky = SubResource("Sky_d4vig")
ambient_light_source = 3
ambient_light_sky_contribution = 0.7
tonemap_mode = 4
tonemap_exposure = 1.6
glow_enabled = true
glow_levels/2 = 1.0
glow_levels/4 = 0.5
glow_levels/5 = 0.2
glow_intensity = 0.13
glow_blend_mode = 1
glow_hdr_threshold = 1.4
volumetric_fog_enabled = true
volumetric_fog_density = 0.03
volumetric_fog_sky_affect = 0.0
adjustment_enabled = true
adjustment_brightness = 1.1
adjustment_saturation = 1.1
adjustment_color_correction = ExtResource("1_d4vig")

[sub_resource type="Animation" id="Animation_d4vig"]
resource_name = "Flicker"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 0.75, 1, 1.25, 1.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [1.0, 0.25, 1.16667, 0.5, 3.0, 1.0]
}

[sub_resource type="Animation" id="Animation_gvupw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_v63ir"]
_data = {
&"Flicker": SubResource("Animation_d4vig"),
&"RESET": SubResource("Animation_gvupw")
}

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_gvupw")

[node name="Tavern" parent="." instance=ExtResource("1_5sqjl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -43.3, -3.6, 21.9)

[node name="TheInn" parent="Tavern" index="0"]
material_override = ExtResource("2_d4vig")

[node name="GuideSpheres" parent="." instance=ExtResource("3_gvupw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.2, 1.3, 23.6)
visible = false

[node name="Node3D" type="Node3D" parent="."]

[node name="Candle1" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.55122, 2.79324, 22.0566)
light_color = Color(0.904378, 0.420548, 0.311512, 1)
shadow_enabled = true
omni_range = 0.910584
omni_attenuation = 1.35

[node name="Candle2" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.22472, 2.79324, 26.3322)
light_color = Color(0.72, 0.65664, 0.0864, 1)
shadow_enabled = true
omni_range = 4.27

[node name="AnimationPlayer" type="AnimationPlayer" parent="Node3D/Candle2"]
libraries = {
&"": SubResource("AnimationLibrary_v63ir")
}

[node name="Candle3" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.7563, 2.54734, 29.2124)
light_color = Color(0.880396, 0.457327, 0, 1)
shadow_enabled = true
omni_range = 0.910584
omni_attenuation = 1.35

[node name="AnimationPlayer" type="AnimationPlayer" parent="Node3D/Candle3"]
libraries = {
&"": SubResource("AnimationLibrary_v63ir")
}

[node name="Candle4" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.3722, 2.54734, 26.2549)
light_color = Color(0.880396, 0.457327, 0, 1)
shadow_enabled = true
omni_range = 0.910584
omni_attenuation = 1.35

[node name="AnimationPlayer" type="AnimationPlayer" parent="Node3D/Candle4"]
libraries = {
&"": SubResource("AnimationLibrary_v63ir")
}

[node name="Candle5" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.1567, 2.54734, 23.878)
light_color = Color(0.880396, 0.457327, 0, 1)
shadow_enabled = true
omni_range = 0.910584
omni_attenuation = 1.35

[node name="AnimationPlayer" type="AnimationPlayer" parent="Node3D/Candle5"]
libraries = {
&"": SubResource("AnimationLibrary_v63ir")
}

[node name="Furnace" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.11565, 2.54734, 18.2668)
light_color = Color(0.880396, 0.457327, 0, 1)
light_energy = 8.774
omni_range = 3.375
omni_attenuation = 2.61

[node name="Spooky" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.7835, 0.0935507, 18.0586)
light_color = Color(0, 0.685688, 0.562507, 1)
light_energy = 8.774
shadow_enabled = true
omni_range = 3.58965
omni_attenuation = -0.315

[editable path="Tavern"]
